#ifndef TYPING_H
#define TYPING_H

#include <stdint.h>

typedef enum {
    NORMAL,
    FIRE,
    WATER,
    ELECTRIC,
    GRASS,
    ICE,
    FIGHTING,
    POISON,
    GROUND,
    FLYING,
    PSYCHIC,
    BUG,
    ROCK,
    GHOST,
    DRAGON,
    NONETYPE,
} TYPE;

// RBY damage modifier chart using fixed-point arithmetic
// Format: Attack type -> Defending Pokemon Type
// Values: 0 = 0.0x, 128 = 0.5x, 256 = 1.0x, 512 = 2.0x
// This eliminates float multiplications on the hot path
static const uint16_t damage_chart[NONETYPE + 1][NONETYPE + 1] = {
    // DEFENSE ->  NOR    FIR    WAT    ELE    GRA    ICE    FIG    POI    GRO    FLY    PSY    BUG    ROC    GHO    DRA    NONETYPE
    /* NORMAL */  {256,   256,   256,   256,   256,   256,   256,   256,   256,   256,   256,   256,   128,   0,     256,   256},
    /* FIRE */    {256,   128,   128,   256,   512,   512,   256,   256,   256,   256,   256,   512,   128,   256,   128,   256},
    /* WATER */   {256,   512,   128,   256,   128,   256,   256,   256,   512,   256,   256,   256,   512,   256,   128,   256},
    /* ELECTRIC */{256,   256,   512,   128,   128,   256,   256,   256,   0,     512,   256,   256,   256,   256,   128,   256},
    /* GRASS */   {256,   128,   512,   256,   128,   256,   256,   128,   512,   128,   256,   128,   512,   256,   128,   256},
    /* ICE */     {256,   256,   128,   256,   512,   128,   256,   256,   512,   512,   256,   256,   256,   256,   512,   256},
    /* FIGHTING */{512,   256,   256,   256,   256,   512,   256,   128,   256,   128,   128,   128,   512,   0,     256,   256},
    /* POISON */  {256,   256,   256,   256,   512,   256,   256,   128,   128,   256,   256,   512,   128,   128,   256,   256},
    /* GROUND */  {256,   512,   256,   512,   128,   256,   256,   512,   256,   0,     256,   128,   512,   256,   256,   256},
    /* FLYING */  {256,   256,   256,   128,   512,   256,   512,   256,   256,   256,   256,   512,   128,   256,   256,   256},
    /* PSYCHIC */ {256,   256,   256,   256,   256,   256,   512,   512,   256,   256,   128,   256,   256,   0,     256,   256},
    /* BUG */     {256,   128,   256,   256,   512,   256,   128,   512,   256,   128,   512,   256,   256,   128,   256,   256},
    /* ROCK */    {256,   512,   256,   256,   256,   512,   128,   256,   128,   512,   256,   512,   256,   256,   256,   256},
    /* GHOST */   {0,     256,   256,   256,   256,   256,   256,   256,   256,   256,   0,     256,   256,   512,   256,   256},
    /* DRAGON */  {256,   256,   256,   256,   256,   256,   256,   256,   256,   256,   256,   256,   256,   256,   512,   256},
    /* NONETYPE */{256,   256,   256,   256,   256,   256,   256,   256,   256,   256,   256,   256,   256,   256,   256,   256}
};

#endif
